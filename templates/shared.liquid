{% comment %}
  ============================================================================
  SHARED.LIQUID - Prayer Times Plugin Components
  ============================================================================
  Reusable templates for prayer times display
  Usage: {% render "component_name", param: value %}
  ============================================================================
{% endcomment %}

{% comment %}
  ERROR STATE - Plugin unconfigured
{% endcomment %}
{% template error_state %}
{% if size == 'full' %}
<div class="flex flex--col flex--center-x flex--center-y gap--medium h--full">
  <div class="value value--xlarge md:value--xxlarge lg:value--xxxlarge">ðŸ•Œ</div>
  <div class="title title--medium md:title--large text--center">Prayer Times</div>
  <div class="description md:title md:title--small text--center">
    Configure your location (latitude/longitude) in settings to see prayer times
  </div>
</div>
{% elsif size == 'half' %}
<div class="flex flex--col flex--center-x flex--center-y gap--small h--full">
  <div class="value value--large">ðŸ•Œ</div>
  <div class="title title--small md:title--medium text--center">Add Location</div>
  <div class="description text--center">Latitude & Longitude</div>
</div>
{% elsif size == 'quadrant' %}
<div class="flex flex--col flex--center-x flex--center-y gap--xsmall h--full">
  <div class="value">ðŸ•Œ</div>
  <div class="description text--center">Config Required</div>
</div>
{% endif %}
{% endtemplate %}

{% comment %}
  PRAYER CARD - Display single prayer time
  Parameters: name, time
{% endcomment %}
{% template prayer_card %}
<div class="flex flex--col gap--xsmall text--center">
  <span class="label md:label--small">{{ name }}</span>
  <span class="value value--medium md:value--large value--tnums">{{ time }}</span>
</div>
{% endtemplate %}

{% comment %}
  PRAYER ROW - Display prayer name and time side by side
{% endcomment %}
{% template prayer_row %}
<div class="flex flex--row flex--between gap--medium items-center">
  <span class="label md:label label--small">{{ name }}</span>
  <span class="value value--small md:value--medium value--tnums">{{ time }}</span>
</div>
{% endtemplate %}

{% comment %}
  FORMAT TIME 12H - Convert 24-hour time to 12-hour with superscript AM/PM
  Parameters: time (e.g., "14:30")
  Returns: Time with small superscript AM/PM indicator
{% endcomment %}
{% template format_time_12h %}
{%- assign parts = time | split: ':' -%}
{%- assign hour = parts[0] | plus: 0 -%}
{%- assign minute = parts[1] -%}
{%- assign period = 'AM' -%}
{%- if hour >= 12 -%}
  {%- assign period = 'PM' -%}
  {%- if hour > 12 -%}
    {%- assign hour = hour | minus: 12 -%}
  {%- endif -%}
{%- elsif hour == 0 -%}
  {%- assign hour = 12 -%}
{%- endif -%}
{{- hour }}:{{ minute }}<span style="font-size: 0.5em; vertical-align: super; margin-left: 0.25em;">{{ period }}</span>
{% endtemplate %}

{% comment %}
  HIJRI DATE BADGE - Display Islamic calendar date
{% endcomment %}
{% template hijri_date %}
<div class="flex flex--col gap--xsmall text--center">
  <span class="label label--small">Islamic Date</span>
  <span class="description">{{ day }} {{ month }} {{ year }}</span>
</div>
{% endtemplate %}

{% comment %}
  TITLE BAR - Standard header for all layouts
  Note: trmnl variable passed in render call to access plugin settings
{% endcomment %}
{% template title_bar %}
<div class="title_bar">
  <img class="image" src="data:image/svg+xml;charset=utf-8,<svg height='800' viewBox='0 -64 640 640' width='800' xmlns='http://www.w3.org/2000/svg'><path d='m0 480c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-320h-128zm579.16-192c17.86-17.39 28.84-37.34 28.84-58.91 0-52.86-41.79-93.79-87.92-122.9-41.94-26.47-80.63-57.77-111.96-96.22l-8.12-9.97-8.12 9.97c-31.33 38.45-70.01 69.76-111.96 96.22-46.13 29.11-87.92 70.04-87.92 122.9 0 21.57 10.98 41.52 28.84 58.91zm28.84 32h-416c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h32v-64c0-17.67 14.33-32 32-32s32 14.33 32 32v64h64v-72c0-48 48-72 48-72s48 24 48 72v72h64v-64c0-17.67 14.33-32 32-32s32 14.33 32 32v64h32c17.67 0 32-14.33 32-32v-128c0-17.67-14.33-32-32-32zm-544-320s-64 32-64 96v32h128v-32c0-64-64-96-64-96z'/></svg>" alt="Mosque Icon">
  <span class="title">
    {% if custom_title and custom_title != '' %}
      {{ custom_title }}
    {% elsif trmnl.plugin_settings.custom_fields_values.custom_title and trmnl.plugin_settings.custom_fields_values.custom_title != '' %}
      {{ trmnl.plugin_settings.custom_fields_values.custom_title }}
    {% else %}
      Prayer Times
    {% endif %}
  </span>
</div>
{% endtemplate %}

