{% comment %}
  FULL LAYOUT - Prayer Times Display
  Shows all 5 prayers in a clean table format with date information
{% endcomment %}

{% assign prayer_data = data %}
{% assign timings = prayer_data.timings %}
{% assign gregorian = prayer_data.date.gregorian %}
{% assign hijri = prayer_data.date.hijri %}
{% assign custom_title = trmnl.plugin_settings.custom_fields_values.custom_title %}
{% assign show_hijri = trmnl.plugin_settings.custom_fields_values.show_hijri_date %}

<div class="layout">
  {% if prayer_data and timings.Fajr %}
    <div class="flex flex--col gap--large h--full p--2">
      {% comment %} Date Section - Large and Prominent {% endcomment %}
      <div class="flex flex--row gap--large flex--center-x">
        <div class="flex flex--col gap--small text--center flex-1">
          <span class="label">{{ gregorian.weekday.en }}</span>
          <span class="value value--large md:value--xlarge">{{ gregorian.day }}</span>
          <span class="title title--medium md:title--large">{{ gregorian.month.en }}</span>
        </div>
        {% if show_hijri %}
        <div class="divider"></div>
        <div class="flex flex--col gap--small text--center flex-1">
          <span class="label">Islamic Date</span>
          <span class="value value--large md:value--xlarge">{{ hijri.day }}</span>
          <span class="description md:label">{{ hijri.month.en }}</span>
        </div>
        {% endif %}
      </div>

      {% comment %} Prayer Times Table - Spacious {% endcomment %}
      <table class="table table--base" data-table-limit="true">
        <tbody>
          <tr>
            <td><span class="label md:label">Fajr</span></td>
            <td><span class="value value--medium md:value--large value--tnums">{{ timings.Fajr }}</span></td>
          </tr>
          <tr>
            <td><span class="label md:label">Dhuhr</span></td>
            <td><span class="value value--medium md:value--large value--tnums">{{ timings.Dhuhr }}</span></td>
          </tr>
          <tr>
            <td><span class="label md:label">Asr</span></td>
            <td><span class="value value--medium md:value--large value--tnums">{{ timings.Asr }}</span></td>
          </tr>
          <tr>
            <td><span class="label md:label">Maghrib</span></td>
            <td><span class="value value--medium md:value--large value--tnums">{{ timings.Maghrib }}</span></td>
          </tr>
          <tr>
            <td><span class="label md:label">Isha</span></td>
            <td><span class="value value--medium md:value--large value--tnums">{{ timings.Isha }}</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  {% else %}
    {% render "error_state", size: "full" %}
  {% endif %}
</div>

{% render "title_bar", custom_title: custom_title, trmnl: trmnl %}
